{"version":3,"file":"static/js/604.705f52e1.chunk.js","mappings":"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","sources":["functions.js","components/pages/Item.js","pages/Pages.js"],"sourcesContent":["export function getYearMonthDay(year, month, day) {\r\n    const months31Day = [1, 3, 5, 7, 8, 10, 12]\r\n    const months30Day = [4, 6, 9, 11]\r\n\r\n    const obj = {\r\n        year: year, month: month, day: day\r\n    }\r\n\r\n    const getPrevMonthDays = () => {\r\n        if(month === 1 & day === 1) return 31 \r\n        if (months31Day.includes(month - 1)) return 31\r\n        if (months30Day.includes(month - 1)) return 30\r\n        else return 29\r\n    }\r\n\r\n\r\n    // previus  month for 31 days months\r\n    if (months31Day.includes(month) & day < 1) {\r\n        obj.month = month - 1\r\n        obj.day = getPrevMonthDays()\r\n        if (month === 1) {\r\n            obj.year = year - 1\r\n            obj.month = 12\r\n            obj.day = 31\r\n        }\r\n        return obj\r\n    }\r\n    // next  month for 31 days months\r\n    if (months31Day.includes(month) & day > 31) {\r\n        obj.month = month + 1\r\n        obj.day = 1\r\n        if (month === 12) {\r\n            obj.year = year + 1\r\n            obj.month = 1\r\n        }\r\n        return obj\r\n    }\r\n\r\n    // previus next month for 30 days months\r\n    if (months30Day.includes(month) & day < 1) {\r\n        obj.month = month - 1\r\n        obj.day = getPrevMonthDays()\r\n        if (month === 1) {\r\n            obj.year = year - 1;\r\n            obj.month = 12\r\n\r\n        }\r\n        return obj\r\n    }\r\n    if (months30Day.includes(month) & day > 30) {\r\n        obj.month = month + 1\r\n        obj.day = 1\r\n        if (month === 12) {\r\n            obj.year = year + 1\r\n            obj.month = 1\r\n        }\r\n        return obj\r\n    }\r\n\r\n    if (month === 2) {\r\n        // previus next month for 29 days months\r\n        if (day < 1) return { year: year, month: month - 1, day: getPrevMonthDays() }\r\n        if (day > 29) return { year: year, month: month + 1, day: 1 }\r\n    }\r\n\r\n    return obj\r\n}","import React from 'react'\r\nimport { WEBSITE_URL } from '../../hosts'\r\n\r\nfunction Item(props) {\r\n    const { item } = props\r\n    return (\r\n        <div className='page-item-nqsvit'>\r\n            <div className='page-visits-epspuj'>\r\n                {item.visites} visits</div>\r\n            <div className='meecdb'>\r\n                <a href={WEBSITE_URL + item.path} target=\"blank\">{item.path}</a>\r\n            </div>\r\n        </div>\r\n    )\r\n}\r\n\r\nexport default Item","import axios from 'axios'\r\nimport React, { useState, useEffect } from 'react'\r\nimport Item from '../components/pages/Item'\r\nimport { getYearMonthDay } from '../functions'\r\nimport { API_HOST } from '../hosts'\r\n\r\nfunction Pages() {\r\n    const BY_DAY = 'day visitors'\r\n    const ALL_VISITS = 'all visitors'\r\n    let year = new Date().getFullYear()\r\n    let month = (new Date().getMonth()) + 1\r\n    let day = new Date().getDate()\r\n    const [list, setList] = useState(false)\r\n    const [view, setView] = useState(ALL_VISITS)\r\n    const [fetchurl, setFetchurl] = useState(API_HOST + 'views/pages')\r\n    const [dateVal, setDateVal] = useState('')\r\n    const [sYear, setSYear] = useState(year)\r\n    const [sMonth, setSMonth] = useState(month)\r\n    const [sDay, setSDay] = useState(day)\r\n    const [error, setError] = useState(false)\r\n    useEffect(() => {\r\n        axios.get(fetchurl)\r\n            .then(res => {\r\n                if (res.data.error) {\r\n                    setError(res.data.msg)\r\n                }\r\n                else\r\n                    setList(res.data);\r\n            })\r\n            .catch(err => { console.log(err) })\r\n    }, [fetchurl, sDay])\r\n\r\n    const changeView = (v) => {\r\n        if(view === v) return false\r\n        setList(false)\r\n        setView(v)\r\n        switch (v) {\r\n            case BY_DAY:\r\n                setFetchurl(`${API_HOST}views/pages?by=date&year=${year}&month=${month}&day=${day}`)\r\n                setError(false)\r\n                break;\r\n            default:\r\n                setFetchurl(API_HOST + 'views/pages')\r\n                setError(false)\r\n                break;\r\n        }\r\n    }\r\n\r\n    const nextDay = () => {\r\n        const intYear = parseInt(sYear)\r\n        const intMonth = parseInt(sMonth)\r\n        const intDay = parseInt(sDay)\r\n        const fullDate = getYearMonthDay(intYear, intMonth, intDay + 1)\r\n        setSDay(fullDate.day)\r\n        setSMonth(fullDate.month)\r\n        setSYear(fullDate.year)\r\n\r\n        setFetchurl(`${API_HOST}views/pages?by=date&year=${fullDate.year}&month=${fullDate.month}&day=${fullDate.day}`)\r\n    }\r\n\r\n    const preDay = () => {\r\n        const intYear = parseInt(sYear)\r\n        const intMonth = parseInt(sMonth)\r\n        const intDay = parseInt(sDay)\r\n        const fullDate = getYearMonthDay(intYear, intMonth, intDay - 1)\r\n        setSDay(fullDate.day)\r\n        setSMonth(fullDate.month)\r\n        setSYear(fullDate.year)\r\n\r\n        setFetchurl(`${API_HOST}views/pages?by=date&year=${fullDate.year}&month=${fullDate.month}&day=${fullDate.day}`)\r\n    }\r\n\r\n    const handleChangeDate = () => {\r\n        const v = document.getElementById('date_uekitf').value\r\n        const vArr = v.split('.')\r\n        year = vArr[0]\r\n        setSYear(year)\r\n        month = vArr[1]\r\n        setSMonth(month)\r\n        day = vArr[2]\r\n        setSDay(day)\r\n        setFetchurl(`${API_HOST}views/pages?by=date&year=${year}&month=${month}&day=${day}`)\r\n    }\r\n    const listcondition = () => {\r\n        if (!error) if (list) return true\r\n        return false\r\n    }\r\n    return (\r\n        <div>\r\n            <div className='pages-xaooiz'>\r\n                <h1>Pages</h1>\r\n                {/* by navi */}\r\n                <div className='page-navi-cibkpx'>\r\n                    <div className=\"navi-item-iittlu\" onClick={() => { changeView(BY_DAY) }}>{BY_DAY}</div>\r\n                    <div className=\"navi-item-iittlu\" onClick={() => { changeView(ALL_VISITS) }}>{ALL_VISITS}</div>\r\n                </div>\r\n                {/* loading */}\r\n                {!list && <div className='wxubuf'>Loading ...</div>}\r\n                {/* list counters */}\r\n                {<>\r\n                    {/* grouped by title */}\r\n                    <h1>{view}</h1>\r\n                    {/* by day input */}\r\n                    {view === BY_DAY && <div className='inputDate-viuyxd'>\r\n                        <input type=\"text\" id='date_uekitf' placeholder={`${year}.${month}.${day}`} value={dateVal} onChange={(v) => setDateVal(v.target.value)} />\r\n                        <button onClick={handleChangeDate}>submit</button>\r\n                        <h1>{`${sYear}.${sMonth}.${sDay}`}</h1>\r\n                        <div className='controllers-sspqly'>\r\n                            <div className='ovjocl' onClick={nextDay}>next</div>\r\n                            <div className='ovjocl' onClick={preDay}>pre</div>\r\n                        </div>\r\n                    </div>}\r\n                    {/* all views list  */}\r\n                    {listcondition() && list.map(item => (\r\n                        <Item item={item} key={'pages_item_' + item.path.replaceAll('/', '')} />\r\n                    ))}\r\n                </>}\r\n            </div>\r\n        </div>\r\n    )\r\n}\r\n\r\nexport default Pages"],"names":["getYearMonthDay","year","month","day","months31Day","months30Day","obj","getPrevMonthDays","includes","props","item","className","visites","href","WEBSITE_URL","path","target","BY_DAY","ALL_VISITS","Date","getFullYear","getMonth","getDate","useState","list","setList","view","setView","API_HOST","fetchurl","setFetchurl","dateVal","setDateVal","sYear","setSYear","sMonth","setSMonth","sDay","setSDay","error","setError","useEffect","axios","then","res","data","msg","catch","err","console","log","changeView","v","onClick","type","id","placeholder","value","onChange","vArr","document","getElementById","split","intYear","parseInt","intMonth","intDay","fullDate","map","replaceAll"],"sourceRoot":""}